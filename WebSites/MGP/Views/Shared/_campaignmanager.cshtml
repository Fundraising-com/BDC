@using System.Configuration
@using System.Web.Optimization
@using GA.BDC.Web.MGP.Helpers
@using GA.BDC.Web.MGP.Helpers.Extensions
@using GA.BDC.Web.MGP.Models.Branding
@{
   var partnerBranding = ViewBag.Partner as Partner;
   var userBranding = ViewBag.User as User;
   var eventBranding = ViewBag.Event as Event;
   var disableHeader = Session[Constants.SESSION_KEY_DISABLE_HEADER] != null
                       ? bool.Parse(Session[Constants.SESSION_KEY_DISABLE_HEADER].ToString())
                       : false;
   var disableFooter = Session[Constants.SESSION_KEY_DISABLE_FOOTER] != null
                       ? bool.Parse(Session[Constants.SESSION_KEY_DISABLE_FOOTER].ToString())
                       : false;
}
<!DOCTYPE html>

<html>
<head>
   <meta name="viewport" content="width=device-width" />
   <title>@ViewBag.PageTitle : @ViewBag.Title</title>
   <meta name="description" content="@ViewBag.Description" />
   <meta name="keywords" content="@ViewBag.Keywords" />
   <meta http-equiv="X-UA-Compatible" content="IE=edge;chrome=1" />
   <link rel="shortcut icon" type="image/ico" href="/Content/images/public/content/favicon.ico" />
   @Styles.Render("~/general")
   <link type="text/css" rel="stylesheet" href="@Url.Content(ConfigurationManager.AppSettings["CampaignManagerCssHref"])" />
   @Scripts.Render("~/jquery")
   @Scripts.Render("~/angular")
   @Scripts.Render("~/app")
   @if (!string.IsNullOrEmpty(partnerBranding.OverrideCSSFile))
   {
      <link type="text/css" rel="stylesheet" href="/Content/partners/@partnerBranding.OverrideCSSFile" />
   }
	<link href="https://fonts.googleapis.com/css?family=Montserrat|Roboto|Yellowtail" rel="stylesheet">
</head>
<body ng-app="mgp">
   <br />
   <div class="container">
      <header class="hidden-xs @(disableHeader ? "hidden" : string.Empty)">
         <div class="row">
            <div class="col-md-9 col-sm-12">
               <a>
                  @if (!partnerBranding.ShowOnlyPartnerLogo)
                  {
                     <img src="/Content/images/public/content/mainLogo.gif" alt="Home" />
                     if (!string.IsNullOrEmpty(partnerBranding.Logo))
                     {
                        <img src="@partnerBranding.Logo" alt="Home" />
                     }
                  }
                  else
                  {
                     if (!string.IsNullOrEmpty(partnerBranding.Logo))
                     {
                        <img src="@partnerBranding.Logo" alt="Home" />
                     }
                  }
               </a>
            </div>
            <div class="col-md-3">
               <div class="row">
                  <div class="col-md-12 text-right">
                     <strong>Welcome @userBranding.FirstName!</strong> |
                     <a href="@Url.Action("Logout", "Security")">Logout</a>
                  </div>
               </div>
            </div>
         </div>
      </header>
      @if (ViewBag.HideMenu == null || !ViewBag.HideMenu)
      {
         <nav class="navbar navbar-mgp hidden-sm hidden-md hidden-lg" style="margin-bottom: 0px;" role="navigation">
            <div class="container-fluid">
               <!-- Brand and toggle get grouped for better mobile display -->
               <div class="navbar-header">
                  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                     <span class="sr-only">Toggle navigation</span>
                     <span class="icon-bar"></span>
                     <span class="icon-bar"></span>
                     <span class="icon-bar"></span>
                  </button>
                  <a class="navbar-brand" href="#">@partnerBranding.Name</a>
               </div>

               <!-- Collect the nav links, forms, and other content for toggling -->
               <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                  <ul class="nav navbar-nav">
                     @if (userBranding.IsParticipant)
                     {
                        @Html.MenuLink("Dashboard", "Index", "CampaignManager", new { participantId = eventBranding.ParticipantId })
                        @Html.MenuLink("Edit Information", "Information", "CampaignManager", new { participantId = eventBranding.ParticipantId })
                        @Html.MenuLink("Personalize your Page", "Page", "CampaignManager", new { participantId = eventBranding.ParticipantId })
                        <li class="dropdown">
                           <a data-toggle="dropdown" href="#">
                              Promote your @partnerBranding.GroupDisplay.ToLower().FirstLetterUpper() <span class="caret"></span>
                           </a>
                           <ul class="dropdown-menu" role="menu">
                              @Html.MenuLink("Send Emails", "SendMessages", "CampaignManager", new { participantId = eventBranding.ParticipantId })
                              @if (!partnerBranding.HidePromotionPage)
                              {
                                 @Html.MenuLink($"Promote {partnerBranding.GroupDisplay.ToLower().FirstLetterUpper()}", "Promote", "CampaignManager", new { participantId = eventBranding.ParticipantId }, new { @style = "font-size:13.5px;" })
                              }
                              @*@if (partnerBranding.PrizeProgram)
                              {
                                 @Html.MenuLink("Prizes", "Prizes", "CampaignManager", new { participantId = eventBranding.ParticipantId })
                              }*@
                           </ul>
                        </li>
                        <li class="dropdown">
                           <a data-toggle="dropdown" href="#">
                              Reports <span class="caret"></span>
                           </a>
                           <ul class="dropdown-menu" role="menu">
                              @if (partnerBranding.ProductOffer == ProductOffer.DonationOnly)
                              {
                                 <li><a href="@Url.Action("CampaignDonationReportParticipant", "CampaignManager", new { participantId = eventBranding.ParticipantId })">My @partnerBranding.GroupDisplay.ToLower().FirstLetterUpper()</a></li>
                                          <li><a href="@Url.Action("GroupDonationReport", "CampaignManager", new { participantId = eventBranding.ParticipantId })">All</a></li>
                              }
                              else if (partnerBranding.ProductOffer == ProductOffer.MagazineOnly)
                              {
                                 <li><a href="@Url.Action("CampaignReportParticipantMagazine", "CampaignManager", new { participantId = eventBranding.ParticipantId })">My @partnerBranding.GroupDisplay.ToLower().FirstLetterUpper()</a></li>
                                          <li><a href="@Url.Action("GroupReport", "CampaignManager", new { participantId = eventBranding.ParticipantId })">All</a></li>
                              }
                              else
                              {
                                 <li><a href="@Url.Action("CampaignReportParticipant", "CampaignManager", new { participantId = eventBranding.ParticipantId })">My @partnerBranding.GroupDisplay.ToLower().FirstLetterUpper()</a></li>
                                          <li><a href="@Url.Action("GroupReport", "CampaignManager", new { participantId = eventBranding.ParticipantId })">All</a></li>
                              }
                           </ul>
                        </li>                        
                     }
                     else
                     {
                        @Html.MenuLink("Dashboard", "Index", "CampaignManager", new { participantId = eventBranding.ParticipantId })
                        @Html.MenuLink("Edit your Information", "Information", "CampaignManager", new { participantId = eventBranding.ParticipantId })
                        @Html.MenuLink($"Personalize {partnerBranding.GroupDisplay.ToLower().FirstLetterUpper()}'s Page", "Page", "CampaignManager", new { participantId = eventBranding.ParticipantId })
                        @Html.MenuLink("Send Emails", "SendMessages", "CampaignManager", new { participantId = eventBranding.ParticipantId })
                        if (partnerBranding.ProductOffer != ProductOffer.DonationOnly && !partnerBranding.HidePromotionPage)
                        {
                           @Html.MenuLink($"Promote your {partnerBranding.GroupDisplay.ToLower().FirstLetterUpper()}", "Promote", "CampaignManager", new { participantId = eventBranding.ParticipantId }, new { @style = "font-size:13.5px;" })
                        }
                        @*if (eventBranding.EventType != EventTypeInfo.INDIVIDUAL_FUNDRAISER && partnerBranding.PrizeProgram)
                        {
                           @Html.MenuLink("Prizes", "Prizes", "CampaignManager", new { participantId = eventBranding.ParticipantId })
                        }*@
                        <li class="dropdown @(partnerBranding.HideAllReports ? "hidden" : "")">
                           <a data-toggle="dropdown" href="#">
                              Reports <span class="caret"></span>
                           </a>
                           <ul class="dropdown-menu" role="menu">
                              @if (partnerBranding.ProductOffer == ProductOffer.DonationOnly)
                              {
                                 <li><a href="@Url.Action("CampaignDonationReport", "CampaignManager", new { participantId = eventBranding.ParticipantId })">@partnerBranding.GroupDisplay.ToLower().FirstLetterUpper()</a></li>
                              }
                              else if (partnerBranding.ProductOffer == ProductOffer.MagazineOnly)
                              {
                                 <li><a href="@Url.Action("CampaignReport", "CampaignManager", new { participantId = eventBranding.ParticipantId })">@partnerBranding.GroupDisplay.ToLower().FirstLetterUpper()</a></li>
                              }
                              else
                              {
                                 <li><a href="@Url.Action("CampaignReport", "CampaignManager", new { participantId = eventBranding.ParticipantId })">@partnerBranding.GroupDisplay.ToLower().FirstLetterUpper()</a></li>
                              }
                           </ul>
                        </li>

                     }
                  </ul>
               </div>
            </div>
         </nav>
            <nav class="hidden-xs">
               <div class="row">
                  <div class="col-md-12">
                     <ul class="nav nav-pills nav-justified">
                        @if (userBranding.IsParticipant)
                        {
                           @Html.MenuLink("Dashboard", "Index", "CampaignManager", new { participantId = eventBranding.ParticipantId })
                           @Html.MenuLink("Edit your Information", "Information", "CampaignManager", new { participantId = eventBranding.ParticipantId })
                           @Html.MenuLink("Personalize your Page", "Page", "CampaignManager", new { participantId = eventBranding.ParticipantId })
                           <li class="dropdown">
                              <a data-toggle="dropdown" href="#">
                                 Promote your @partnerBranding.GroupDisplay.ToLower().FirstLetterUpper() <span class="caret"></span>
                              </a>
                              <ul class="dropdown-menu" role="menu">
                                 @Html.MenuLink("Send Emails", "SendMessages", "CampaignManager", new { participantId = eventBranding.ParticipantId })
                                 @if (!partnerBranding.HidePromotionPage)
                                 {
                                    @Html.MenuLink($"Promote {partnerBranding.GroupDisplay.ToLower().FirstLetterUpper()}", "Promote", "CampaignManager", new { participantId = eventBranding.ParticipantId }, new { @style = "font-size:13.5px;" })
                                 }
                                 @*@if (partnerBranding.PrizeProgram)
                                 {
                                    @Html.MenuLink("Prizes", "Prizes", "CampaignManager", new { participantId = eventBranding.ParticipantId })
                                 }*@
                              </ul>
                           </li>
                           <li class="dropdown @(partnerBranding.HideAllReports ? "hidden" : "")">
                              <a data-toggle="dropdown" href="#">
                                 Reports <span class="caret"></span>
                              </a>
                              <ul class="dropdown-menu" role="menu">
                                 @if (partnerBranding.ProductOffer == ProductOffer.DonationOnly)
                                 {
                                    <li><a href="@Url.Action("CampaignDonationReportParticipant", "CampaignManager", new { participantId = eventBranding.ParticipantId })">My @partnerBranding.GroupDisplay.ToLower().FirstLetterUpper()</a></li>
                                    <li><a href="@Url.Action("GroupDonationReport", "CampaignManager", new { participantId = eventBranding.ParticipantId })">All</a></li>
                                 }
                                 else if (partnerBranding.ProductOffer == ProductOffer.MagazineOnly)
                                 {
                                    <li><a href="@Url.Action("CampaignReportParticipantMagazine", "CampaignManager", new { participantId = eventBranding.ParticipantId })">My @partnerBranding.GroupDisplay.ToLower().FirstLetterUpper()</a></li>
                                    <li><a href="@Url.Action("GroupReport", "CampaignManager", new { participantId = eventBranding.ParticipantId })">All</a></li>
                                 }
                                 else
                                 {
                                    <li><a href="@Url.Action("CampaignReportParticipant", "CampaignManager", new { participantId = eventBranding.ParticipantId })">My @partnerBranding.GroupDisplay.ToLower().FirstLetterUpper()</a></li>
                                    <li><a href="@Url.Action("GroupReport", "CampaignManager", new { participantId = eventBranding.ParticipantId })">All</a></li>
                                 }
                              </ul>
                           </li>
                        }
                        else
                        {
                           @Html.MenuLink("Dashboard", "Index", "CampaignManager", new { participantId = eventBranding.ParticipantId })
                           @Html.MenuLink("Edit your Information", "Information", "CampaignManager", new { participantId = eventBranding.ParticipantId })
                           @Html.MenuLink($"Personalize {partnerBranding.GroupDisplay.ToLower().FirstLetterUpper()}'s Page", "Page", "CampaignManager", new { participantId = eventBranding.ParticipantId })
                           <li class="dropdown">
                              <a data-toggle="dropdown" href="#">
                                 Promote your @partnerBranding.GroupDisplay.ToLower().FirstLetterUpper() <span class="caret"></span>
                              </a>
                              <ul class="dropdown-menu" role="menu">
                                 @Html.MenuLink("Send Emails", "SendMessages", "CampaignManager", new { participantId = eventBranding.ParticipantId })
                                 @if (partnerBranding.ProductOffer != ProductOffer.DonationOnly && !partnerBranding.HidePromotionPage)
                                 {
                                    @Html.MenuLink("Banners and Links", "Promote", "CampaignManager", new { participantId = eventBranding.ParticipantId }, new { @style = "font-size:13.5px;" })
                                 }
                                 @*@if (eventBranding.EventType != EventTypeInfo.INDIVIDUAL_FUNDRAISER && partnerBranding.PrizeProgram)
                                 {
                                    @Html.MenuLink("Prizes", "Prizes", "CampaignManager", new { participantId = eventBranding.ParticipantId })
                                 }*@
                              </ul>
                           </li>
                              <li class="dropdown @(partnerBranding.HideAllReports ? "hidden" : "")">
                                 <a data-toggle="dropdown" href="#">
                                    Reports <span class="caret"></span>
                                 </a>
                                 <ul class="dropdown-menu" role="menu">
                                    @if (partnerBranding.ProductOffer == ProductOffer.DonationOnly)
                                    {
                                       <li><a href="@Url.Action("CampaignDonationReport", "CampaignManager", new {participantId = eventBranding.ParticipantId})">@partnerBranding.GroupDisplay.ToLower().FirstLetterUpper()</a></li>
                                    }
                                    else if (partnerBranding.ProductOffer == ProductOffer.MagazineOnly)
                                    {
                                       <li><a href="@Url.Action("CampaignReport", "CampaignManager", new {participantId = eventBranding.ParticipantId})">@partnerBranding.GroupDisplay.ToLower().FirstLetterUpper()</a></li>
                                    }
                                    else
                                    {
                                       <li><a href="@Url.Action("CampaignReport", "CampaignManager", new {participantId = eventBranding.ParticipantId})">@partnerBranding.GroupDisplay.ToLower().FirstLetterUpper()</a></li>
                                    }
                                 </ul>
                              </li>
                        }
                     </ul>
                  </div>
               </div>
            </nav>
      }
      <section id="campaignManagerBody">
         @RenderBody()
      </section>
      <footer class="@(disableFooter ? "hidden" : string.Empty)">
         <div class="row">
            <div class="col-md-4">
               <div>

               </div>
            </div>
            <div class="col-md-4 text-center @(partnerBranding.ProductOffer == ProductOffer.DonationOnly || partnerBranding.HideFaq ? "hidden" : string.Empty)">@Html.ActionLink("FAQ", "FAQ", "Home")</div>
            <div class="col-md-@(partnerBranding.ProductOffer == ProductOffer.DonationOnly ? "8" : "4") text-center">@Html.ActionLink("Privacy Policy", "PrivacyPolicy", "Home")</div>
         </div>
      </footer>
   </div>
   @RenderSection("scripts", false)
   @if (bool.Parse(ConfigurationManager.AppSettings["showChatProviderCode"]))
   {
   <!--Start of Zendesk Chat Script-->
   <script type="text/javascript">
      window.$zopim || (function (d, s) {
         var z = $zopim = function (c) { z._.push(c) }, $ = z.s =
            d.createElement(s), e = d.getElementsByTagName(s)[0]; z.set = function (o) {
               z.set.
               _.push(o)
            }; z._ = []; z.set._ = []; $.async = !0; $.setAttribute("charset", "utf-8");
         $.src = "https://v2.zopim.com/?4PAzjvVQt7v9pN2vyypOIT5kFW768OdB"; z.t = +new Date; $.
            type = "text/javascript"; e.parentNode.insertBefore($, e)
      })(document, "script");

      $zopim(function () {
         $zopim.livechat.departments.setVisitorDepartment('EFundraising');
      });
   </script>
   <!--End of Zendesk Chat Script-->
   }
   <!-- Affiliate Window Master Tag -->
   <script src="https://www.dwin1.com/5458.js" type="text/javascript" defer="defer"> </script>
   <!-- Affiliate Window Master Tag code end -->
   <!-- post affiliate script begin all pages-->
   <script type="text/javascript">
<!--
    document.write(unescape("%3Cscript id='pap_x2s6df8d' src='" + (("https:" == document.location.protocol) ? "https://" : "http://") + "fundraising.postaffiliatepro.com/scripts/trackjs.js' type='text/javascript'%3E%3C/script%3E"));//-->
   </script>
   <script type="text/javascript">
<!--
    PostAffTracker.setAccountId('default1');
    try {
        PostAffTracker.track();
    } catch (err) { }
    //-->
   </script>
   <!-- post affiliate script end -->
   <!-- Starts Google Analytics -->
   <script>
      (function (i, s, o, g, r, a, m) {
         i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
         }, i[r].l = 1 * new Date(); a = s.createElement(o),
             m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
      })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
      ga('require', 'linker');
      ga('linker:autoLink', ['efundraising.com', 'fundraising411.com', 'juniorleaguefundraising.com', '1stfundraisers.com', 'ssgfundraising.com', 'usafundraising.com', 'schoolsfundraising.com', 'gamefundraising.com', 'fundraisingsolution.om', 'fundraisingnews.com', 'fundraisingclub.com', 'emailfundraising.com', 'scratchandsave.com', 'canadafundraising.com', 'raising-fund.com', 'tshirtfundraising.com', 'snacksfundraising.com', 'lollipopfundraisers.om', 'chocolatefundraisers.com', 'fund-raising.com', 'nhscamagagazines.com', 'lgfundraising.com', 'fastpitchsoftballmags.com', 'chocolatefundraiser.com', 'fundraisingsearch.com', 'online-fundraising.com', 'cdfundraising.com', 'discoveryschoolfundraising.com', 'onlyfundraising.com', 'efundraisingcorp.com', 'universalfundraising.net', 'teamcheerfundraising.com', 'efundraisingsuperstore.com', 'asafundraising.om', 'e-fundraising.com', 'mystore.fundraising.com']);
      ga('create', '@ConfigurationManager.AppSettings["GoogleAnalyticsTrackingId"]', 'auto', { 'allowLinker': true });
      ga('send', 'pageview');

   </script>
   <!-- Ends Google Analytics -->
   <!-- Starts Facebook API -->
   <script>
      (function (d, s, id) {
         var js, fjs = d.getElementsByTagName(s)[0];
         if (d.getElementById(id)) { return; }
         js = d.createElement(s); js.id = id;
         js.src = "//connect.facebook.net/en_US/sdk.js";
         fjs.parentNode.insertBefore(js, fjs);
      }(document, 'script', 'facebook-jssdk'));
   </script>
   <!-- Ends Facebook API -->
</body>
</html>
